{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajouter un Produit - SuperMarch√© Plus</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <div class="dashboard-layout">
        <aside class="sidebar">
            <div style="text-align: center; padding: 0 1.5rem; margin-bottom: 2rem;">
                <div style="width: 60px; height: 60px; background: var(--primary-green); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto; color: white; font-size: 2rem;">üì¶</div>
                <h3 style="margin-top: 1rem;">Gestion Stock</h3>
            </div>
            <ul class="sidebar-menu">
                <li><a href="{% url 'dashboard_stock' %}"><span class="icon">üìä</span> Tableau de Bord</a></li>
                <li><a href="{% url 'stock_add_product' %}" class="active"><span class="icon">‚ûï</span> Nouveau Produit</a></li>
            </ul>
            <div style="padding: 1.5rem; margin-top: auto;">
                <a href="{% url 'logout' %}" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-gray); border-radius: 8px; text-decoration: none; color: var(--text-dark);"><span>üö™</span><span>D√©connexion</span></a>
            </div>
        </aside>
        <main class="main-content">
            <div class="page-header">
                <h1>Ajouter un Nouveau Produit</h1>
                <p>Ajouter un produit au catalogue</p>
            </div>

            {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }}" style="padding: 1rem; margin-bottom: 1.5rem; border-radius: 8px; {% if message.tags == 'success' %}background: #d4edda; color: #155724; border: 1px solid #c3e6cb;{% elif message.tags == 'error' %}background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;{% endif %}">
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}

            <div class="chart-container">
                <form method="post" style="padding: 2rem;">
                    {% csrf_token %}
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Nom du Produit *</label>
                            <input type="text" name="nom" required class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="Ex: Lait entier 1L">
                        </div>
                        
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">R√©f√©rence *</label>
                            <input type="text" name="reference" required class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="Ex: PROD001">
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Cat√©gorie *</label>
                        <select name="categorie" required class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;">
                            <option value="">-- S√©lectionner une cat√©gorie --</option>
                            <option value="Alimentaire">Alimentaire</option>
                            <option value="Boissons">Boissons</option>
                            <option value="Hygi√®ne">Hygi√®ne</option>
                            <option value="Entretien">Entretien</option>
                            <option value="√âlectronique">√âlectronique</option>
                            <option value="Textile">Textile</option>
                            <option value="Fruits & L√©gumes">Fruits & L√©gumes</option>
                            <option value="Boulangerie">Boulangerie</option>
                            <option value="Surgel√©s">Surgel√©s</option>
                            <option value="Autres">Autres</option>
                        </select>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5rem; margin-top: 1.5rem;">
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Prix d'Achat (FCFA) *</label>
                            <input type="number" name="prix_achat" required class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="0" step="0.01" min="0">
                        </div>
                        
                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Prix de Vente (FCFA) *</label>
                            <input type="number" name="prix_vente" required class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="0" step="0.01" min="0">
                        </div>

                        <div>
                            <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Stock Initial *</label>
                            <input type="number" name="stock" required class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="0" min="0">
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Fournisseur (optionnel)</label>
                        <input type="text" name="fournisseur" class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="Ex: Soci√©t√© ABC">
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Description (optionnel)</label>
                        <textarea name="description" rows="3" class="form-input" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-gray); border-radius: 8px;" placeholder="Description du produit..."></textarea>
                    </div>

                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="submit" class="btn btn-primary" style="flex: 1;">
                            <span style="margin-right: 0.5rem;">‚úÖ</span> Ajouter le produit
                        </button>
                        <a href="{% url 'dashboard_stock' %}" class="btn btn-secondary" style="flex: 1; text-align: center; text-decoration: none;">
                            <span style="margin-right: 0.5rem;">‚ùå</span> Annuler
                        </a>
                    </div>
                </form>
            </div>
        </main>
    </div>
</body>
</html>
